<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>picoQuery demo</title>
<!--
For best performance, a webpage should ideally split the scripts needed in two.

First part is for the bare essentials for viewing the part of the page that is initially visible.
This part is best put *directly* in the HTML (that is, inline - between <script>-tags).
The reason is that you want minimize the number of requests required to finish before the browser
is allowed to show anything. picoQuery is made small enough so you can include it inline for this purpose.

The second part of the script is for stuff that does not need to be there for the first render.
Ie. click events, animations, footer appearance. Use defered loading for this - that is load it dynamically after the document load event. See this article: https://varvy.com/pagespeed/defer-loading-javascript.html

It is not too bad to use jQuery, when it is truly defered, as the user will not notice that
the browser is downloading and rendering more script. Your priority should therefore be to split
the script into the mentioned parts and migrate the first part to picoQuery

You can read more about this strategy here: https://varvy.com/pagespeed/render-blocking.html

All this, just to explain why we here include picoQuery inline, instead of doing like this:



-->
<!--<script src="http://picoquery.com/builder/picoquery.js.php?build=0.2-5-0-3000"></script>-->
<!--  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>-->
<script src="../../builder/0.2/build.php?build=3-fff7"></script>
<!--
<script>
(function(w,d,u) {

  // constructor
  function P(a,b){if(typeof a>'s'){if(a[0]=='<'){var el=d.createElement('div');el.innerHTML=a;this.e=[el.firstChild]}else{this.e=[].slice.call(d.querySelectorAll(a))}}else if(typeof a == "function"){return $(d).ready(a)}else if(a.nodeType){this.e=[a]}else if(a instanceof P){this.e=a.e}else if(a.length){this.e=[].slice.call(a)}else{this.e=[]}}

  // methods
  P.prototype = {
    addClass:function(value){return this.e.forEach(function(el){if(el.classList){el.classList.add(value)}else{el.className+=' '+value}})},
    append:function(){var a=arguments;return this.e.forEach(function(el){for(var i=0;i<a.length;i++){$(a[i]).e.forEach(function(el2){el.appendChild(el2)})}})},
    appendTo:function(t){this.e.forEach(function(el){$(t).append(el)});return this},
    css:function(a,b){u===b?this.e[0].style[a]:this.e.forEach(function(c){c.style[a]=b});return this},
    each:function(fn){this.e.forEach(function(el,index){fn.call(el,index,el)});return this},
    first:function(){return $(this.e[0])},
    get:function(index){return u===index?this.e:this.e[index]},
    hide:function(fn){this.css('display','none')},
    on:function(events,handler){return this.e.forEach(function(el){el.addEventListener(events,handler,false)})},
    ready:function(handler){if(/^u|ng/.test(document.readyState))this.on('DOMContentLoaded',function(){handler($)});else{handler($)}return this},
    removeClass:function(className){this.e.forEach(function(el){el.className=el.className.replace(new RegExp('\b'+className.replace(' ','\b|\b')+'\b','g'),' ')});return this},
    trigger:function(eventType){this.e.forEach(function(el){var ev=document.createEvent('HTMLEvents');ev.initEvent(eventType,true,false);el.dispatchEvent(ev)});return this},
  }

  // Standard events
  ;['click', 'focus', 'keyup'].forEach(function(a) {
    P.prototype[a] = function(b){
      return b ? this.on(a,b) : this.trigger(a)
    }
  });

  if (!w.$) {
    w.$ = function() {
      // Allow to create new instances without new
      return function(a,b) {
        return new P(a,b);
      };
    }();

    // Fallback to jQuery
    if ((!d.querySelectorAll) || (!d.addEventListener)) {
      document.write('<scrip' + 't src="https://code.jquery.com/jquery-1.9.1.min.js"><' + '/script>');
    }

    
  }
})(window,document)
-->

</script>
<script>
$(function() {
//  alert('ready');
  $('#clickme').addClass('red-text');

  $('ul li').css('background-color', 'red');
//alert($('ul li').css('background-color'));

  $('<b>bold</b>').appendTo($('body'));

//	var div = $( "<div>hej</div>" ).appendTo( "body" );

  $('body').append('<b>bold</b>', '<i>italic</i>');

  $('li').each(function (i, el) {
//    alert(i);
//    alert(el);
  });

  $('.clickable').css('cursor', 'pointer').css('background-color', '#ccc');
  $('#clickme').click(function(e) {
    alert('thanks, man.\n\nThe event object is same as in jQuery: ' + e);
  });
  $('#hideme').hide();
  $('ul li').css('background-color', 'brown');

  $('ul li').css('background-color', 'red').first().css('color', 'white');
  $('ul li:last-child').css('font-weight', 'bold');

  
  $('#clickmetoo').click(function(e) {
    var colorOfFirstLI = $('li').first().css('color');
    alert(colorOfFirstLI);
    
  });

  $('#clickmethree').click(function(e) {
    $('#clickme').click();
  });
});

</script>


<style>
#clickme {cursor:pointer; background-color: #ccc}
.red-text {color:red;}
</style>
</head>
<body>
  <span id="clickme" class="clickable">Click me</span><br>
  <span id="hideme">picoQuery has hidden me</span><br>
  <ul class="list">
    <li>One</li>
    <li>Two</li>
    <li>Three</li>
  </ul>
  <span id="clickmetoo" class="clickable">Click me to view the value of a css property</span><br>
  <span id="clickmethree" class="clickable">Click me to trigger an event</span><br>

Note: "trigger" isn't well tested across browsers. I got the code from youmightnotneedjquery.com, so its probably pretty ok.
</body>
</html>
