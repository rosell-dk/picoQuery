<?php if (isFeatureEnabled('append') && isFeatureEnabled('detach')): ?>
filter:function(b) {
  var c;
  return "*" == b ? __PUSH_STACK_THIS__() : __PUSH_STACK__(<@ this.e.filter(function(a, d) {
    return __IS_FUNCTION__(<@ b @>) ? b.call(a, d, a) : a.parentNode ? ~$(b, $(a).parent().e[0]).e.indexOf(a) : ($("<div/>").append(a), c = ~$(b, $(a).parent().e[0]).e.indexOf(a), $(a).detach(), c);
  } @>));
}
<?php elseif (isFeatureEnabled('append')): ?>
filter:function(b) {
  var c;
  return "*" == b ? __PUSH_STACK_THIS__() : __PUSH_STACK__(<@ this.e.filter(function(a, d) {
    return __IS_FUNCTION__(<@ b @>) ? b.call(a, d, a) : a.parentNode ? ~$(b, $(a).parent().e[0]).e.indexOf(a) : ($("<div/>").append(a), c = ~$(b, $(a).parent().e[0]).e.indexOf(a), $(a).parent().e[0].removeChild(a), c);
  } @>));
}
<?php else: ?>
filter:function(b) {
  var e, c;
  return "*" == b ? __PUSH_STACK_THIS__() : __PUSH_STACK__(<@ this.e.filter(function(a, f) {
    return __IS_FUNCTION__(<@ b @>) ? b.call(a, f, a) : a.parentNode ? ~$(b, $(a).parent().e[0]).e.indexOf(a) : (c = d.createElement("div"), c.appendChild(a), e = ~$(b, $(a).parent().e[0]).e.indexOf(a), c.removeChild(a), e);
  } @>));
}
<?php endif; ?>
